define ("local_userinfo/modal",["exports"],function(a){"use strict";Object.defineProperty(a,"__esModule",{value:!0});a.init=void 0;a.init=function init(){require(["jquery","core/modal_factory","core/modal_events","core/ajax","core/notification"],function(a,c,d,f,g){var h=a("#create-modal");c.create({type:c.types.SAVE_CANCEL,title:"Informaci\xF3n sobre usuarios",body:"<form>\n    <label>Ingresa el nombre de usuario\n        <input id=\"username-input\" name=\"user\" type=\"text\">\n    </label>\n</form>"},h).done(function(c){c.getRoot().on(d.save,function(c){c.preventDefault();var d=[],e=document.getElementById("username-input");d.push(e.value.toString());e.value="";var h=f.call([{methodname:"core_user_get_users_by_field",args:{field:"username",values:d}}]);h[0].done(function(c){if(a.isEmptyObject(c[0])){g.alert("El usuario no existe","El usuario que estas intentando buscar no existe, o no estas autorizad@ para verlo")}else{b(c[0])}}).fail(function(a){g.exception(a)})})})})};function b(a){for(var b=document.getElementById("user-row"),c=[],d=a.lastaccess,e=a.country,f=a.username,g=a.lastname,h=a.firstname,j=a.email,k=a.suspended,l=a.firstaccess,m=a.city,n=[f,h,g,j,"".concat(e," - ").concat(m),new Date(1e3*l),new Date(1e3*d),k],o=0;o<n.length;o++){c[o]=document.createElement("td");c[o].innerHTML=n[o]}if(b.firstChild){b.parentElement.appendChild(document.createElement("tr"));c.forEach(function(a){return b.parentElement.lastChild.appendChild(a)})}else{c.forEach(function(a){return b.appendChild(a)})}}});
//# sourceMappingURL=modal.min.js.map
